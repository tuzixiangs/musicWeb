{"version":3,"sources":["webpack:///D:/project/music/uview-ui/components/u-image/u-image.vue?e0cd","webpack:///D:/project/music/uview-ui/components/u-image/u-image.vue?e05f","webpack:///D:/project/music/uview-ui/components/u-image/u-image.vue?9e73","webpack:///D:/project/music/uview-ui/components/u-image/u-image.vue?1db2","uni-app:///uview-ui/components/u-image/u-image.vue","webpack:///D:/project/music/uview-ui/components/u-image/u-image.vue?a312","webpack:///D:/project/music/uview-ui/components/u-image/u-image.vue?87d9"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AAC4L;AAC5L,gBAAgB,+LAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,uMAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAiuB,CAAgB,2sBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkCrvB;AACA;AACA;AACA;AACA,kBADA;AAEA,iBAFA,EAFA;;AAMA;AACA;AACA,kBADA;AAEA,2BAFA,EAPA;;AAWA;AACA;AACA,4BADA;AAEA,qBAFA,EAZA;;AAgBA;AACA;AACA,4BADA;AAEA,qBAFA,EAjBA;;AAqBA;AACA;AACA,kBADA;AAEA,uBAFA,EAtBA;;AA0BA;AACA;AACA,4BADA;AAEA,gBAFA,EA3BA;;AA+BA;AACA;AACA,mBADA;AAEA,mBAFA,EAhCA;;AAoCA;AACA;AACA,mBADA;AAEA,mBAFA,EArCA;;AAyCA;AACA;AACA,kBADA;AAEA,sBAFA,EA1CA;;AA8CA;AACA;AACA,kBADA;AAEA,6BAFA,EA/CA;;AAmDA;AACA;AACA,mBADA;AAEA,mBAFA,EApDA;;AAwDA;AACA;AACA,mBADA;AAEA,mBAFA,EAzDA;;AA6DA;AACA;AACA,mBADA;AAEA,mBAFA,EA9DA;;AAkEA;AACA;AACA,mBADA;AAEA,oBAFA,EAnEA;;AAuEA;AACA;AACA,4BADA;AAEA,kBAFA,EAxEA,EADA;;;AA8EA,MA9EA,kBA8EA;AACA;AACA;AACA,oBAFA;AAGA;AACA,mBAJA;AAKA;AACA,gBANA;AAOA;AACA,iCARA;AASA;AACA,yBAVA;;AAYA,GA3FA;AA4FA;AACA,aADA,uBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAfA,EA5FA;;AA6GA;AACA;AACA,WAFA,qBAEA;AACA;AACA,KAJA;AAKA;AACA,kBANA,4BAMA;AACA;AACA;AACA;AACA,KAVA;AAWA;AACA,iBAZA,2BAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,kBAFA;AAGA,OANA,EAMA,EANA;AAOA,KAhCA;AAiCA;AACA,iBAlCA,2BAkCA;AACA;AACA;AACA,sCADA;;AAGA,KAvCA,EA7GA,E;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAk2C,CAAgB,qvCAAG,EAAC,C;;;;;;;;;;;ACAt3C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uview-ui/components/u-image/u-image.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./u-image.vue?vue&type=template&id=32babe48&scoped=true&\"\nvar renderjs\nimport script from \"./u-image.vue?vue&type=script&lang=js&\"\nexport * from \"./u-image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./u-image.vue?vue&type=style&index=0&id=32babe48&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32babe48\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uview-ui/components/u-image/u-image.vue\"\nexport default component.exports","export * from \"-!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-image.vue?vue&type=template&id=32babe48&scoped=true&\"","var components = {\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.wrapStyle, _vm.backgroundStyle])\n\n  var g0 = _vm.$u.addUnit(_vm.borderRadius)\n  var g1 = _vm.$u.addUnit(_vm.borderRadius)\n  var g2 = _vm.$u.addUnit(_vm.borderRadius)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n        g0: g0,\n        g1: g1,\n        g2: g2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-image.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view\r\n\t\tclass=\"u-image\"\r\n\t\t@tap=\"onClick\"\r\n\t\t:style=\"[wrapStyle, backgroundStyle]\"\r\n\t>\r\n\t\t<image\r\n\t\t\tv-if=\"!isError\"\r\n\t\t\t:src=\"src\"\r\n\t\t\t:mode=\"mode\"\r\n\t\t\t@error=\"onErrorHandler\"\r\n\t\t\t@load=\"onLoadHandler\"\r\n\t\t\t:lazy-load=\"lazyLoad\"\r\n\t\t\tclass=\"u-image__image\"\r\n\t\t\t:style=\"{\r\n\t\t\t\tborderRadius: shape == 'circle' ? '50%' : $u.addUnit(borderRadius),\r\n\t\t\t}\"\r\n\t\t></image>\r\n\t\t<view v-if=\"showLoading && loading\" class=\"u-image__loading\" :style=\"{\r\n\t\t\tborderRadius: shape == 'circle' ? '50%' : $u.addUnit(borderRadius),\r\n\t\t}\">\r\n\t\t\t<slot v-if=\"$slots.loading\" name=\"loading\" />\r\n\t\t\t<u-icon v-else :name=\"loadingIcon\"></u-icon>\r\n\t\t</view>\r\n\t\t<view v-if=\"showError && isError && !loading\" class=\"u-image__error\" :style=\"{\r\n\t\t\tborderRadius: shape == 'circle' ? '50%' : $u.addUnit(borderRadius),\r\n\t\t}\">\r\n\t\t\t<slot v-if=\"$slots.error\" name=\"error\" />\r\n\t\t\t<u-icon v-else :name=\"errorIcon\"></u-icon>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\t// 图片地址\r\n\t\tsrc: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\t// 裁剪模式\r\n\t\tmode: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'aspectFill'\r\n\t\t},\r\n\t\t// 宽度，单位任意\r\n\t\twidth: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: '100%'\r\n\t\t},\r\n\t\t// 高度，单位任意\r\n\t\theight: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: 'auto'\r\n\t\t},\r\n\t\t// 图片形状，circle-圆形，square-方形\r\n\t\tshape: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'square'\r\n\t\t},\r\n\t\t// 圆角，单位任意\r\n\t\tborderRadius: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\t// 是否懒加载，微信小程序、App、百度小程序、字节跳动小程序\r\n\t\tlazyLoad: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 开启长按图片显示识别微信小程序码菜单\r\n\t\tshowMenuByLongpress: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 加载中的图标，或者小图片\r\n\t\tloadingIcon: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'photo'\r\n\t\t},\r\n\t\t// 加载失败的图标，或者小图片\r\n\t\terrorIcon: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'error-circle'\r\n\t\t},\r\n\t\t// 是否显示加载中的图标或者自定义的slot\r\n\t\tshowLoading: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 是否显示加载错误的图标或者自定义的slot\r\n\t\tshowError: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 是否需要淡入效果\r\n\t\tfade: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 只支持网络资源，只对微信小程序有效\r\n\t\twebp: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 过渡时间，单位ms\r\n\t\tduration: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: 500\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 图片是否加载错误，如果是，则显示错误占位图\r\n\t\t\tisError: false,\r\n\t\t\t// 初始化组件时，默认为加载中状态\r\n\t\t\tloading: true,\r\n\t\t\t// 不透明度，为了实现淡入淡出的效果\r\n\t\t\topacity: 1,\r\n\t\t\t// 过渡时间，因为props的值无法修改，故需要一个中间值\r\n\t\t\tdurationTime: this.duration,\r\n\t\t\t// 图片加载完成时，去掉背景颜色，因为如果是png图片，就会显示灰色的背景\r\n\t\t\tbackgroundStyle: {}\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\twrapStyle() {\r\n\t\t\tlet style = {};\r\n\t\t\t// 通过调用addUnit()方法，如果有单位，如百分比，px单位等，直接返回，如果是纯粹的数值，则加上rpx单位\r\n\t\t\tstyle.width = this.$u.addUnit(this.width);\r\n\t\t\tstyle.height = this.$u.addUnit(this.height);\r\n\t\t\t// 如果是配置了圆形，设置50%的圆角，否则按照默认的配置值\r\n\t\t\tstyle.borderRadius = this.shape == 'circle' ? '50%' : this.$u.addUnit(this.borderRadius);\r\n\t\t\t// 如果设置圆角，必须要有hidden，否则可能圆角无效\r\n\t\t\tstyle.overflow = this.borderRadius > 0 ? 'hidden' : 'visible';\r\n\t\t\tif(this.fade) {\r\n\t\t\t\tstyle.opacity = this.opacity;\r\n\t\t\t\tstyle.transition = `opacity ${Number(this.durationTime) / 1000}s ease-in-out`;\r\n\t\t\t}\r\n\t\t\treturn style;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 点击图片\r\n\t\tonClick() {\r\n\t\t\tthis.$emit('click');\r\n\t\t},\r\n\t\t// 图片加载失败\r\n\t\tonErrorHandler() {\r\n\t\t\tthis.loading = false;\r\n\t\t\tthis.isError = true;\r\n\t\t\tthis.$emit('error');\r\n\t\t},\r\n\t\t// 图片加载完成，标记loading结束\r\n\t\tonLoadHandler() {\r\n\t\t\tthis.loading = false;\r\n\t\t\tthis.isError = false;\r\n\t\t\tthis.$emit('load');\r\n\t\t\t// 如果不需要动画效果，就不执行下方代码，同时移除加载时的背景颜色\n\t\t\t// 否则无需fade效果时，png图片依然能看到下方的背景色\r\n\t\t\tif(!this.fade) return this.removeBgColor();\r\n\t\t\t// 原来opacity为1(不透明，是为了显示占位图)，改成0(透明，意味着该元素显示的是背景颜色，默认的灰色)，再改成1，是为了获得过渡效果\r\n\t\t\tthis.opacity = 0;\r\n\t\t\t// 这里设置为0，是为了图片展示到背景全透明这个过程时间为0，延时之后延时之后重新设置为duration，是为了获得背景透明(灰色)\r\n\t\t\t// 到图片展示的过程中的淡入效果\r\n\t\t\tthis.durationTime = 0;\r\n\t\t\t// 延时50ms，否则在浏览器H5，过渡效果无效\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.durationTime = this.duration;\r\n\t\t\t\tthis.opacity = 1;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.removeBgColor();\r\n\t\t\t\t}, this.durationTime)\r\n\t\t\t}, 50)\r\n\t\t},\n\t\t// 移除图片的背景色\n\t\tremoveBgColor() {\n\t\t\t// 淡入动画过渡完成后，将背景设置为透明色，否则png图片会看到灰色的背景\n\t\t\tthis.backgroundStyle = {\n\t\t\t\tbackgroundColor: 'transparent'\n\t\t\t};\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '../../libs/css/style.components.scss';\r\n\r\n.u-image {\r\n\tbackground-color: $u-bg-color;\r\n\tposition: relative;\r\n\ttransition: opacity 0.5s ease-in-out;\r\n\r\n\t&__image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t&__loading, &__error {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbackground-color: $u-bg-color;\r\n\t\tcolor: $u-tips-color;\r\n\t\tfont-size: 46rpx;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-image.vue?vue&type=style&index=0&id=32babe48&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-image.vue?vue&type=style&index=0&id=32babe48&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596176335065\n      var cssReload = require(\"D:/默认的/Desktop/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}